<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <style>
      :root {
        color-scheme: light dark; /* 自动跟随系统主题 */
      }
      
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        transition: background-color 0.3s, color 0.3s;
      }
      
      body {
        padding: 20px;
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
        height: 100%;
      }
      
      .container {
        display: flex;
        width: 100%;
        flex: 1;
        min-height: 0;
        gap: 0;
      }
      
      .input-container {
        width: 45%;
        display: flex;
        flex-direction: column;
        height: 100%;
      }
      
      .middle-container {
        width: 10%;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        padding: 0 8px; /* 两边保留2个字节的空间 */
        box-sizing: border-box;
      }
      
      .button-group {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
        gap: 10px;
        margin-bottom: 16px; /* 与文本框底部对齐的间距 */
      }
      
      textarea {
        flex: 1;
        min-height: 0;
        border-radius: 4px;
        padding: 8px;
        border: 1px solid #ccc;
        font-family: monospace;
        resize: none; /* 禁用手动调整大小，由容器控制 */
        transition: border-color 0.3s;
      }
      
      button {
        width: 100%;
        padding: 10px 0;
        border: none;
        border-radius: 4px;
        background-color: #0078d7;
        color: white;
        font-weight: 500;
        cursor: pointer;
        transition: background-color 0.2s, transform 0.1s;
      }
      
      button:hover {
        background-color: #106ebe;
      }
      
      button:active {
        transform: scale(0.98);
      }
      
      /* Reset按钮使用浅红色 */
      #resetCookie {
        background-color: #e57373;
      }
      
      #resetCookie:hover {
        background-color: #ef5350;
      }
      
      h4 {
        margin: 10px 0;
      }
      
      .warning-message {
        color: #d32f2f;
        font-weight: bold;
        text-align: center;
        margin: 10px 0;
        display: none;
        padding: 5px;
        border-radius: 4px;
        background-color: rgba(211, 47, 47, 0.1);
      }
      
      .status-message {
        margin-top: 10px;
        font-weight: bold;
        text-align: center;
        min-height: 20px;
        padding: 5px;
        border-radius: 4px;
      }
      
      .success {
        color: #2e7d32;
        background-color: rgba(46, 125, 50, 0.1);
      }
      
      .error {
        color: #d32f2f;
        background-color: rgba(211, 47, 47, 0.1);
      }
      
      /* Dark theme styles */
      @media (prefers-color-scheme: dark) {
        body {
          background-color: #121212;
          color: #e0e0e0;
        }
        textarea {
          background-color: #1e1e1e;
          color: #e0e0e0;
          border-color: #333;
        }
        textarea:focus {
          border-color: #555;
        }
        #resetCookie {
          background-color: #c62828;
        }
        #resetCookie:hover {
          background-color: #d32f2f;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="input-container">
        <h4>Paste Cookie Text:</h4>
        <textarea id="rawCookieInput" placeholder="Paste cookie text here..."></textarea>
      </div>
      
      <div class="middle-container">
        <div class="button-group">
          <button id="updateCookie">Update</button>
          <button id="resetCookie">Reset</button>
          <button id="save">Save</button>
          <button id="apply">Apply</button>
        </div>
        <div id="updateStatus" class="status-message"></div>
        <div id="warning" class="warning-message">Cookies have been reset to defaults. Please review carefully before saving.</div>
      </div>
      
      <div class="input-container">
        <h4>Current Cookie Configuration:</h4>
        <textarea id="cookieInput"></textarea>
      </div>
    </div>
    
    <script src="edit.js"></script>
  </body>
</html>
